<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Day 6  | Rajesh Reddy Bejadi</title>
<meta name="keywords" content="">
<meta name="description" content="Terraform Structure Overview
A Terraform project usually contains four important blocks:

  
      
          Block
          Purpose
      
  
  
      
          terraform
          Declares providers and versions
      
      
          provider
          Connects Terraform to AWS / Cloud
      
      
          resource
          Creates infrastructure
      
      
          data
          Reads existing infrastructure
      
  

Now let‚Äôs see each one with examples.
üåç 1. Terraform Block
The terraform block is used to configure settings that affect Terraform itself, not the cloud provider or the resources. The terraform block tells Terraform how to behave.">
<meta name="author" content="Rajesh Reddy Bejadi">
<link rel="canonical" href="http://localhost:1313/projects/day-6/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.c37b5f76cc4a9826dc9706c9d255cfcf1f82686503572e30636031da3205ecda.css" integrity="sha256-w3tfdsxKmCbclwbJ0lXPzx&#43;CaGUDVy4wY2Ax2jIF7No=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/projects/day-6/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script><meta property="og:url" content="http://localhost:1313/projects/day-6/">
  <meta property="og:site_name" content="Rajesh Reddy Bejadi">
  <meta property="og:title" content="Day 6 ">
  <meta property="og:description" content="Terraform Structure Overview A Terraform project usually contains four important blocks:
Block Purpose terraform Declares providers and versions provider Connects Terraform to AWS / Cloud resource Creates infrastructure data Reads existing infrastructure Now let‚Äôs see each one with examples.
üåç 1. Terraform Block The terraform block is used to configure settings that affect Terraform itself, not the cloud provider or the resources. The terraform block tells Terraform how to behave.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="projects">
    <meta property="article:published_time" content="2025-11-28T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-11-28T00:00:00+00:00">
    <meta property="og:image" content="https://cdn.codersociety.com/uploads/terafformaws.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://cdn.codersociety.com/uploads/terafformaws.png">
<meta name="twitter:title" content="Day 6 ">
<meta name="twitter:description" content="Terraform Structure Overview
A Terraform project usually contains four important blocks:

  
      
          Block
          Purpose
      
  
  
      
          terraform
          Declares providers and versions
      
      
          provider
          Connects Terraform to AWS / Cloud
      
      
          resource
          Creates infrastructure
      
      
          data
          Reads existing infrastructure
      
  

Now let‚Äôs see each one with examples.
üåç 1. Terraform Block
The terraform block is used to configure settings that affect Terraform itself, not the cloud provider or the resources. The terraform block tells Terraform how to behave.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Projects",
      "item": "http://localhost:1313/projects/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Day 6 ",
      "item": "http://localhost:1313/projects/day-6/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Day 6 ",
  "name": "Day 6 ",
  "description": "Terraform Structure Overview A Terraform project usually contains four important blocks:\nBlock Purpose terraform Declares providers and versions provider Connects Terraform to AWS / Cloud resource Creates infrastructure data Reads existing infrastructure Now let‚Äôs see each one with examples.\nüåç 1. Terraform Block The terraform block is used to configure settings that affect Terraform itself, not the cloud provider or the resources. The terraform block tells Terraform how to behave.\n",
  "keywords": [
    
  ],
  "articleBody": "Terraform Structure Overview A Terraform project usually contains four important blocks:\nBlock Purpose terraform Declares providers and versions provider Connects Terraform to AWS / Cloud resource Creates infrastructure data Reads existing infrastructure Now let‚Äôs see each one with examples.\nüåç 1. Terraform Block The terraform block is used to configure settings that affect Terraform itself, not the cloud provider or the resources. The terraform block tells Terraform how to behave.\nIt does not create infrastructure ‚Äî it configures Terraform‚Äôs settings.\nYou usually place it at the top of your file.\nWhat it does: Defines required providers Pins provider versions Sets Terraform CLI version Configures backend (remote state) Example:\nterraform { required_version = \"\u003e= 1.5.0\" required_providers { aws = { source = \"hashicorp/aws\" version = \"~\u003e 6.0\" } } backend \"s3\" { bucket = \"my-tf-state-bucket\" key = \"terraform/state.tfstate\" region = \"ap-south-1\" } } Components Explained: required_version Ensures Terraform is using the correct version. required_providers Tells Terraform which providers to download and their versions. backend Where the state file is stored (local by default, S3/DynamoDB for teams). üîç So what happens when you don‚Äôt add the block? Terraform will:\nAutomatically install the latest AWS provider version Use whatever version it finds suitable This is okay for learning or small tests, but dangerous for production.\n‚úÖ Why Terraform Works Without the terraform Block 1Ô∏è‚É£ Terraform Automatically Downloads the Required Provider If you write this:\nprovider \"aws\" { region = \"eu-east-1\" } and Terraform sees that you used:\nresource \"aws_instance\" \"web\" {} Terraform automatically understands that you need the AWS provider and downloads the latest compatible version.\nSo the terraform block is not mandatory.\n‚úÖ Then Why Do We Use the terraform { required_providers {} } Block? üëâ This block is used to control versions and source of providers, especially in production.\nExample:\nterraform { required_providers { aws = { source = \"hashicorp/aws\" version = \"~\u003e 6.23.0\" } } } This ensures:\nSame provider version for everyone (Team members get consistent results) Avoids breaking changes (A future Terraform update won‚Äôt suddenly break your code) Explicit control (You know which version is being used) ‚òÅÔ∏è 2. Provider Block (Mandatory) This tells Terraform which cloud we are using.\nterraform { required_providers { aws = { source = \"hashicorp/aws\" version = \"~\u003e 6.0\" } } } provider \"aws\" { region = \"ap-south-1\" } ‚úî Explanation required_providers: Ask Terraform to download AWS provider plugin. provider \"aws\": Sets region and credentials (default uses aws configure). üöÄ 3. Resource Block (Creates Infrastructure) A resource = something Terraform will CREATE, UPDATE, DELETE. Examples:\nEC2 instance VPC S3 bucket IAM user RDS database Syntax:\nresource \"_\" \"\" { # arguments } Example:\nresource \"aws_s3_bucket\" \"mybucket\" { bucket = \"my-tf-bucket-123\" } ",
  "wordCount" : "448",
  "inLanguage": "en",
  "image":"https://cdn.codersociety.com/uploads/terafformaws.png","datePublished": "2025-11-28T00:00:00Z",
  "dateModified": "2025-11-28T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Rajesh Reddy Bejadi"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/projects/day-6/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Rajesh Reddy Bejadi",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Rajesh Reddy Bejadi (Alt + H)">Rajesh Reddy Bejadi</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/blogs" title="Blogs">
                    <span>Blogs</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/projects" title="Projects">
                    <span>Projects</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
    <header class="post-header">
        
        <h1 class="post-title entry-hint-parent">
            Day 6 
        </h1>
        <div class="post-meta"><span title='2025-11-28 00:00:00 +0000 UTC'>November 28, 2025</span>&nbsp;¬∑&nbsp;<span>3 min</span>&nbsp;¬∑&nbsp;<span>Rajesh Reddy Bejadi</span>

</div>
        <div class="post-content"><h2 id="terraform-structure-overview"><strong>Terraform Structure Overview</strong></h2>
<p>A Terraform project usually contains four important blocks:</p>
<table>
  <thead>
      <tr>
          <th>Block</th>
          <th>Purpose</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>terraform</strong></td>
          <td>Declares providers and versions</td>
      </tr>
      <tr>
          <td><strong>provider</strong></td>
          <td>Connects Terraform to AWS / Cloud</td>
      </tr>
      <tr>
          <td><strong>resource</strong></td>
          <td>Creates infrastructure</td>
      </tr>
      <tr>
          <td><strong>data</strong></td>
          <td>Reads existing infrastructure</td>
      </tr>
  </tbody>
</table>
<p>Now let‚Äôs see each one with examples.</p>
<h1 id="-1-terraform-block">üåç 1. <strong>Terraform Block</strong></h1>
<p>The <strong>terraform block</strong> is used to configure settings that affect <strong>Terraform itself</strong>, not the cloud provider or the resources. The <strong>terraform block</strong> tells Terraform <strong>how to behave</strong>.</p>
<p>It does <em>not</em> create infrastructure ‚Äî it configures Terraform‚Äôs settings.</p>
<p>You usually place it at the top of your file.</p>
<h3 id="what-it-does"><strong>What it does:</strong></h3>
<ul>
<li>Defines required providers</li>
<li>Pins provider versions</li>
<li>Sets Terraform CLI version</li>
<li>Configures backend (remote state)</li>
</ul>
<p>Example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-hcl" data-lang="hcl"><span class="line"><span class="cl"><span class="k">terraform</span> {
</span></span><span class="line"><span class="cl"><span class="n">  required_version</span> <span class="o">=</span><span class="n"> &#34;&gt;</span><span class="o">=</span> <span class="m">1</span><span class="p">.</span><span class="m">5</span><span class="p">.</span><span class="m">0</span><span class="err">&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">required_providers</span> {
</span></span><span class="line"><span class="cl"><span class="n">    aws</span> <span class="o">=</span> {
</span></span><span class="line"><span class="cl"><span class="n">      source</span>  <span class="o">=</span> <span class="s2">&#34;hashicorp/aws&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">      version</span> <span class="o">=</span> <span class="s2">&#34;~&gt; 6.0&#34;</span>
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">backend</span> <span class="s2">&#34;s3&#34;</span> {
</span></span><span class="line"><span class="cl"><span class="n">    bucket</span> <span class="o">=</span> <span class="s2">&#34;my-tf-state-bucket&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">    key</span>    <span class="o">=</span> <span class="s2">&#34;terraform/state.tfstate&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">    region</span> <span class="o">=</span> <span class="s2">&#34;ap-south-1&#34;</span>
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><h3 id="components-explained"><strong>Components Explained:</strong></h3>
<ul>
<li><code>required_version</code>  Ensures Terraform is using the correct version.</li>
<li><code>required_providers</code>  Tells Terraform which providers to download and their versions.</li>
<li><code>backend</code>    Where the state file is stored (local by default, S3/DynamoDB for teams).</li>
</ul>
<h2 id="-so-what-happens-when-you-dont-add-the-block">üîç <strong>So what happens when you don‚Äôt add the block?</strong></h2>
<p>Terraform will:</p>
<ul>
<li>Automatically install the latest AWS provider version</li>
<li>Use whatever version it finds suitable</li>
</ul>
<p>This is okay for <strong>learning</strong> or <strong>small tests</strong>, but <strong>dangerous for production</strong>.</p>
<h2 id="-why-terraform-works-without-the">‚úÖ <strong>Why Terraform Works Without the <code>terraform</code> Block</strong></h2>
<h3 id="1-terraform-automatically-downloads-the-required-provider"><strong>1Ô∏è‚É£ Terraform Automatically Downloads the Required Provider</strong></h3>
<p>If you write this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-hcl" data-lang="hcl"><span class="line"><span class="cl"><span class="k">provider</span> <span class="s2">&#34;aws&#34;</span> {
</span></span><span class="line"><span class="cl"><span class="n">  region</span> <span class="o">=</span> <span class="s2">&#34;eu-east-1&#34;</span>
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><p>and Terraform sees that you used:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-hcl" data-lang="hcl"><span class="line"><span class="cl"><span class="k">resource</span> <span class="s2">&#34;aws_instance&#34; &#34;web&#34;</span> {}
</span></span></code></pre></div><p>Terraform <strong>automatically understands</strong> that you need the AWS provider and downloads the latest compatible version.</p>
<p>So the <code>terraform</code> block is <strong>not mandatory</strong>.</p>
<h2 id="-then-why-do-we-use-the">‚úÖ <strong>Then Why Do We Use the <code>terraform { required_providers {} }</code> Block?</strong></h2>
<p>üëâ This block is used to <strong>control versions and source of providers</strong>, especially in production.</p>
<p>Example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-hcl" data-lang="hcl"><span class="line"><span class="cl"><span class="k">terraform</span> {
</span></span><span class="line"><span class="cl">  <span class="k">required_providers</span> {
</span></span><span class="line"><span class="cl"><span class="n">    aws</span> <span class="o">=</span> {
</span></span><span class="line"><span class="cl"><span class="n">      source</span>  <span class="o">=</span> <span class="s2">&#34;hashicorp/aws&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">      version</span> <span class="o">=</span> <span class="s2">&#34;~&gt; 6.23.0&#34;</span>
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><p>This ensures:</p>
<ul>
<li>Same provider version for everyone (Team members get consistent results)</li>
<li>Avoids breaking changes (A future Terraform update won&rsquo;t suddenly break your code)</li>
<li>Explicit control (You know which version is being used)</li>
</ul>
<hr>
<h1 id="-2-provider-block-mandatory">‚òÅÔ∏è <strong>2. Provider Block (Mandatory)</strong></h1>
<p>This tells Terraform which cloud we are using.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-hcl" data-lang="hcl"><span class="line"><span class="cl"><span class="k">terraform</span> {
</span></span><span class="line"><span class="cl">  <span class="k">required_providers</span> {
</span></span><span class="line"><span class="cl"><span class="n">    aws</span> <span class="o">=</span> {
</span></span><span class="line"><span class="cl"><span class="n">      source</span>  <span class="o">=</span> <span class="s2">&#34;hashicorp/aws&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">      version</span> <span class="o">=</span> <span class="s2">&#34;~&gt; 6.0&#34;</span>
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">provider</span> <span class="s2">&#34;aws&#34;</span> {
</span></span><span class="line"><span class="cl"><span class="n">  region</span> <span class="o">=</span> <span class="s2">&#34;ap-south-1&#34;</span>
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><h3 id="-explanation">‚úî Explanation</h3>
<ul>
<li><code>required_providers</code>: Ask Terraform to download AWS provider plugin.</li>
<li><code>provider &quot;aws&quot;</code>: Sets region and credentials (default uses <code>aws configure</code>).</li>
</ul>
<hr>
<h1 id="-3-resource-block-creates-infrastructure">üöÄ <strong>3. Resource Block (Creates Infrastructure)</strong></h1>
<h3 id="a-resource--something-terraform-will-create-update-delete"><strong>A resource = something Terraform will CREATE, UPDATE, DELETE.</strong></h3>
<p>Examples:</p>
<ul>
<li>EC2 instance</li>
<li>VPC</li>
<li>S3 bucket</li>
<li>IAM user</li>
<li>RDS database</li>
</ul>
<p>Syntax:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-hcl" data-lang="hcl"><span class="line"><span class="cl"><span class="k">resource</span> <span class="s2">&#34;&lt;PROVIDER&gt;_&lt;SERVICE&gt;&#34; &#34;&lt;NAME&gt;&#34;</span> {<span class="c1">
</span></span></span><span class="line"><span class="cl"><span class="c1">  # arguments
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>}
</span></span></code></pre></div><p>Example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-hcl" data-lang="hcl"><span class="line"><span class="cl"><span class="k">resource</span> <span class="s2">&#34;aws_s3_bucket&#34; &#34;mybucket&#34;</span> {
</span></span><span class="line"><span class="cl"><span class="n">  bucket</span> <span class="o">=</span> <span class="s2">&#34;my-tf-bucket-123&#34;</span>
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><hr>

        </div>

        <footer class="post-footer">
            <ul class="post-tags">
            </ul>

        </footer>
</article>
    </main>
    
<footer class="footer">
    <span>
        Made by Rajesh Reddy Bejadi
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        const themeToggle = document.getElementById('theme-toggle');
        if (themeToggle) {
            themeToggle.addEventListener('click', () => {
                document.body.classList.toggle('dark');
                localStorage.setItem('theme', document.body.classList.contains('dark') ? 'dark' : 'light');
            });
        }
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script></body>

</html>
